<div class="citas-container">
  <div *ngFor="let cita of citasPendientes" class="cita-card card-animation">
    <div class="card-inner">
      <div class="card-header">
        <h3 class="especialidad">Especialidad: {{ cita.especialidad }}</h3>
      </div>
      <div class="info-item">
        <i class="fas fa-user"></i> Paciente: {{ cita.pacienteNombre }}
      </div>
      <div class="info-item">
        <i class="fas fa-notes-medical"></i> Motivo: {{ cita.motivo }}
      </div>
      <div class="info-item">
        <i class="fas fa-calendar-alt"></i> Fecha: {{ cita.fecha | date:'dd/MM/yyyy' }} a las {{ cita.hora }}
      </div>
      <div class="info-item">
        <i class="fas fa-info-circle"></i> Estado: {{ cita.estado }}
      </div>
      <div class="button-group">
        <button class="btn-success-custom" (click)="cambiarEstado(cita._id, 'Confirmada')">
          Aceptar
        </button>
        <button class="btn-reset" (click)="cambiarEstado(cita._id, 'Cancelada')">
          Cancelar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Éxito: Cita Confirmada -->
<div class="modal-overlay" *ngIf="showSuccessModal">
  <div class="modal-content pro-modal">
    <div class="success-animation">
      <svg class="circle-svg" viewBox="0 0 120 120">
        <circle class="circle-bg" cx="60" cy="60" r="54" fill="none" />
        <circle class="circle-main" cx="60" cy="60" r="54" fill="none" stroke-linecap="round" stroke-width="6" />
        <path class="dove" d="M40 65L50 75L80 45M60 55L65 50"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <div class="particles">
        <div *ngFor="let p of [1,2,3,4,5]" 
             class="particle" 
             [ngStyle]="{'--x': (Math.random() * 100), '--y': (Math.random() * 100)}">
        </div>
      </div>
    </div>
    <h2 class="success-title">¡Cita Confirmada!</h2>
    <p class="success-subtitle">La cita fue registrada correctamente.</p>
  </div>
</div>

<!-- Modal de Cancelación: Cita Cancelada -->
<div class="modal-overlay" *ngIf="showCancelModal">
  <div class="modal-content pro-modal">
    <div class="success-animation">
      <svg class="circle-svg" viewBox="0 0 120 120">
        <circle class="circle-bg" cx="60" cy="60" r="54" fill="none" />
        <circle class="circle-main cancel" cx="60" cy="60" r="54" fill="none" stroke-linecap="round" stroke-width="6" />
        <path class="dove cancel" d="M45 45L75 75M75 45L45 75"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <div class="particles">
        <div *ngFor="let p of [1,2,3,4,5]" 
             class="particle cancel" 
             [ngStyle]="{'--x': (Math.random() * 100), '--y': (Math.random() * 100)}">
        </div>
      </div>
    </div>
    <h2 class="success-title cancel">¡Cita Cancelada!</h2>
    <p class="success-subtitle">La cita ha sido cancelada exitosamente.</p>
  </div>
</div>

